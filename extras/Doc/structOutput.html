<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="DoxyPress 1.2.10"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DCCpp: Output Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxypress.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by DoxyPress -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DCCpp
   </div>
   <div id="projectbrief">This is the library version of a program for Arduino to control railroading DCC devices.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by DoxyPress 1.2.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('structOutput.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="structOutput-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Output Struct Reference</div>  </div>
  <div class="clear-floats"></div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="Outputs_8h_source.html">Outputs.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0de4b9278295a88ad5b683197b1358e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0de4b9278295a88ad5b683197b1358e1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>begin</b> (int id, int pin, int iFlag)</td></tr>
<tr class="separator:a0de4b9278295a88ad5b683197b1358e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7fd951759faf21562c201e8bb6e767b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af7fd951759faf21562c201e8bb6e767b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set</b> (int id, int pin, int iFlag)</td></tr>
<tr class="separator:af7fd951759faf21562c201e8bb6e767b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbbbf317399d4aedf1f8660c1341a44b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abbbbf317399d4aedf1f8660c1341a44b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>activate</b> (int s = 1)</td></tr>
<tr class="separator:abbbbf317399d4aedf1f8660c1341a44b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a939a087d2940eb75a6d380d24f8581c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a939a087d2940eb75a6d380d24f8581c3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>isActivated</b> ()</td></tr>
<tr class="separator:a939a087d2940eb75a6d380d24f8581c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a3e16846725d31a59afafca0b68b82574"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3e16846725d31a59afafca0b68b82574"></a>
static Output *&#160;</td><td class="memItemRight" valign="bottom"><b>get</b> (int)</td></tr>
<tr class="separator:a3e16846725d31a59afafca0b68b82574"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e626dd9ae76abc8eb9a83c07c88f034"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4e626dd9ae76abc8eb9a83c07c88f034"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>remove</b> (int id)</td></tr>
<tr class="separator:a4e626dd9ae76abc8eb9a83c07c88f034"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb90ea04332b934585da23747b044fd3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb90ea04332b934585da23747b044fd3"></a>
static int&#160;</td><td class="memItemRight" valign="bottom"><b>count</b> ()</td></tr>
<tr class="separator:acb90ea04332b934585da23747b044fd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab220403a17dd11725483c27d0c072dca"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab220403a17dd11725483c27d0c072dca"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>load</b> ()</td></tr>
<tr class="separator:ab220403a17dd11725483c27d0c072dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d4af68d735cd24181880ffb4095a51"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a03d4af68d735cd24181880ffb4095a51"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>store</b> ()</td></tr>
<tr class="separator:a03d4af68d735cd24181880ffb4095a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a2876f3c929a91cad1936175c598313"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a2876f3c929a91cad1936175c598313"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>parse</b> (char *c)</td></tr>
<tr class="separator:a3a2876f3c929a91cad1936175c598313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1a6773d7b5fc73930c268757f4da76"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace1a6773d7b5fc73930c268757f4da76"></a>
static Output *&#160;</td><td class="memItemRight" valign="bottom"><b>create</b> (int, int, int)</td></tr>
<tr class="separator:ace1a6773d7b5fc73930c268757f4da76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aee743a57c9850dd62957ff30952bb207"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aee743a57c9850dd62957ff30952bb207"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>num</b></td></tr>
<tr class="separator:aee743a57c9850dd62957ff30952bb207"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5cd4a7dfc59160d3353b8a148f85881"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af5cd4a7dfc59160d3353b8a148f85881"></a>
struct <a class="el" href="structOutputData.html">OutputData</a>&#160;</td><td class="memItemRight" valign="bottom"><b>data</b></td></tr>
<tr class="separator:af5cd4a7dfc59160d3353b8a148f85881"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a752437648e2a561f9e2665cf3cc9c900"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a752437648e2a561f9e2665cf3cc9c900"></a>
Output *&#160;</td><td class="memItemRight" valign="bottom"><b>nextOutput</b></td></tr>
<tr class="separator:a752437648e2a561f9e2665cf3cc9c900"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a977ab03b35034d190d8b9758aebdc4ba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a977ab03b35034d190d8b9758aebdc4ba"></a>
static Output *&#160;</td><td class="memItemRight" valign="bottom"><b>firstOutput</b> =NULL</td></tr>
<tr class="separator:a977ab03b35034d190d8b9758aebdc4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>DCC++ BASE STATION supports optional <a class="el" href="structOutput.html">OUTPUT</a> control of any unused Arduino Pins for custom purposes. Pins can be activited or de-activated. The default is to set ACTIVE pins HIGH and INACTIVE pins LOW. However, this default behavior can be inverted for any pin in which case ACTIVE=LOW and INACTIVE=HIGH.</p>
<p>Definitions and state (ACTIVE/INACTIVE) for pins are retained in EEPROM and restored on power-up. The default is to set each defined pin to active or inactive according to its restored state. However, the default behavior can be modified so that any pin can be forced to be either active or inactive upon power-up regardless of its previous state before power-down.</p>
<p>To have this sketch utilize one or more Arduino pins as custom outputs, first define/edit/delete output definitions using the following variation of the "Z" command:</p>
<pre class="fragment">&lt;Z ID PIN IFLAG&gt;
</pre><p> creates a new output ID, with specified PIN and IFLAG values. if output ID already exists, it is updated with specificed PIN and IFLAG. note: output state will be immediately set to ACTIVE/INACTIVE and pin will be set to HIGH/LOW according to IFLAG value specifcied (see below). returns: &lt;O&gt; if successful and &lt;X&gt; if unsuccessful (e.g. out of memory)</p>
<pre class="fragment">&lt;Z ID&gt;
</pre><p> deletes definition of output ID returns: &lt;O&gt; if successful and &lt;X&gt; if unsuccessful (e.g. ID does not exist)</p>
<pre class="fragment">&lt;Z&gt;
</pre><p> lists all defined output pins returns: &lt;Y id="" pin="" iflag="" state&gt;=""&gt; for each defined output pin or &lt;X&gt; if no output pins defined</p>
<p>where</p>
<pre class="fragment">ID: the numeric ID (0-32767) of the output
PIN: the arduino pin number to use for the output
STATE: the state of the output (0=INACTIVE / 1=ACTIVE)
IFLAG: defines the operational behavior of the output based on bits 0, 1, and 2 as follows:
</pre><p>-* IFLAG, bit 0: 0 = forward operation (ACTIVE=HIGH / INACTIVE=LOW) 1 = inverted operation (ACTIVE=LOW / INACTIVE=HIGH)</p>
<p>-* IFLAG, bit 1: 0 = state of pin restored on power-up to either ACTIVE or INACTIVE depending on state before power-down; state of pin set to INACTIVE when first created 1 = state of pin set on power-up, or when first created, to either ACTIVE of INACTIVE depending on IFLAG, bit 2</p>
<p>-* IFLAG, bit 2: 0 = state of pin set to INACTIVE uponm power-up or when first created 1 = state of pin set to ACTIVE uponm power-up or when first created</p>
<p>Once all outputs have been properly defined, use the &lt;E&gt; command to store their definitions to EEPROM. If you later make edits/additions/deletions to the output definitions, you must invoke the &lt;E&gt; command if you want those new definitions updated in the EEPROM. You can also clear everything stored in the EEPROM by invoking the &lt;e&gt; command.</p>
<p>To change the state of outputs that have been defined use:</p>
<pre class="fragment">&lt;Z ID STATE&gt;
</pre><p> sets output ID to either ACTIVE or INACTIVE state returns: &lt;Y id="" state&gt;=""&gt;, or &lt;X&gt; if turnout ID does not exist</p>
<p>where</p>
<pre class="fragment">ID: the numeric ID (0-32767) of the turnout to control
STATE: the state of the output (0=INACTIVE / 1=ACTIVE)
</pre><p>When controlled as such, the Arduino updates and stores the direction of each output in EEPROM so that it is retained even without power. A list of the current states of each output in the form &lt;Y id="" state&gt;=""&gt; is generated by this sketch whenever the &lt;s&gt; status command is invoked. This provides an efficient way of initializing the state of any outputs being monitored or controlled by a separate interface or GUI program. </p>

<p class="definition">Definition at line <a class="el" href="Outputs_8h_source.html#l00102">102</a> of file <a class="el" href="Outputs_8h_source.html">Outputs.h</a>.</p>
</div><hr/>The documentation for this struct was generated from the following files:<ul>
<li>D:/Mes documents/Trusty/Arduino/Libraries/DCCpp/src/<a class="el" href="Outputs_8h_source.html">Outputs.h</a></li>
<li>D:/Mes documents/Trusty/Arduino/Libraries/DCCpp/src/<a class="el" href="Outputs_8cpp_source.html">Outputs.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- Generated by DoxyPress 1.2.10 -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="structOutput.html">Output</a></li>
    <li class="footer">Generated on lun. nov. 27 2017 16:55:13 for DCCpp &nbsp; by
    <a href="http://www.copperspice.com/documentation-doxypress.html">
    <img class="footer" src="doxypress.png" alt="DoxyPress"/></a> 1.2.10 </li>
  </ul>
</div>
</body>
</html>
